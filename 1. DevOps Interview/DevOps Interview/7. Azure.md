---
title: "‚Ä¢ Azure"
parent: "‚Ä¢ DevOps Interview"
grand_parent: "1. DevOps"
nav_order: 7
---


- [Azure Networking Interview Q&A](https://github.com/natrajwadhai13/Azure-zero-to-hero/blob/main/Day-08/interview-questions.md)



# üîê **Network Security ‚Äì Interview Q&A (Azure Focused)**

---

## **1Ô∏è‚É£ What is Network Security?**

**Answer:**
Network security protects networks and data from **unauthorized access, attacks, and data loss** using firewalls, NSGs, encryption, and monitoring.

---

## **2Ô∏è‚É£ What is an NSG?**

**Answer:**
NSG (Network Security Group) is a **virtual firewall** that controls **inbound and outbound traffic** at **subnet or NIC level** using allow/deny rules.

---

## **3Ô∏è‚É£ Difference between NSG and Azure Firewall?**

**Answer:**

| NSG              | Azure Firewall    |
| ---------------- | ----------------- |
| Basic filtering  | Advanced security |
| Stateless        | Stateful          |
| Subnet/NIC level | Centralized       |
| Free             | Paid              |

---

## **4Ô∏è‚É£ What is Azure DDoS Protection?**

**Answer:**
Protects Azure resources from **traffic flooding attacks** at **Layer 3 & 4**.

* Basic ‚Üí Free
* Standard ‚Üí Paid, advanced protection

---

## **5Ô∏è‚É£ What is DNAT?**

**Answer:**
DNAT (Destination NAT) maps **public IP + port** to **private IP + port** to allow inbound internet traffic to private resources.

---

## **6Ô∏è‚É£ DNAT vs SNAT?**

**Answer:**

| DNAT             | SNAT             |
| ---------------- | ---------------- |
| Inbound traffic  | Outbound traffic |
| Public ‚Üí Private | Private ‚Üí Public |
| Port forwarding  | Internet access  |

---

## **7Ô∏è‚É£ What is Azure Bastion?**

**Answer:**
Provides **secure VM access via browser** without public IP using **HTTPS (443)**.

---

## **8Ô∏è‚É£ What is a Private Endpoint?**

**Answer:**
Assigns a **private IP** to Azure services so traffic stays inside the **Azure network**, not over the internet.

---

## **9Ô∏è‚É£ Service Endpoint vs Private Endpoint?**

**Answer:**

| Service Endpoint  | Private Endpoint |
| ----------------- | ---------------- |
| Public service IP | Private IP       |
| Less secure       | Most secure      |
| Simpler           | Recommended      |

---

## **üîü What is VNet Peering?**

**Answer:**
Connects two VNets using **Azure backbone network** with **low latency** and no gateway.

---

## **1Ô∏è‚É£1Ô∏è‚É£ What is Application Gateway?**

**Answer:**
Layer 7 load balancer with:

* URL-based routing
* SSL termination
* Web Application Firewall (WAF)

---

## **1Ô∏è‚É£2Ô∏è‚É£ What is WAF?**

**Answer:**
Web Application Firewall protects against **OWASP Top 10 attacks** like SQL injection, XSS.

---

## **1Ô∏è‚É£3Ô∏è‚É£ What is Azure Firewall used for?**

**Answer:**
Centralized firewall for:

* Application rules
* Network rules
* NAT rules
* Logging & monitoring

---

## **1Ô∏è‚É£4Ô∏è‚É£ How do you secure a VM in Azure?**

**Answer:**

* No public IP
* Use NSG rules
* Enable Azure Bastion
* Use Private Endpoint
* Enable Defender for Cloud

---

## **1Ô∏è‚É£5Ô∏è‚É£ What is Zero Trust Security?**

**Answer:**
Never trust, always verify ‚Äî security based on **identity, device, and least privilege**.

---

## **1Ô∏è‚É£6Ô∏è‚É£ How is traffic secured between VNets and On-Prem?**

**Answer:**

* VPN Gateway (IPSec)
* ExpressRoute (private connection)

---

## **1Ô∏è‚É£7Ô∏è‚É£ What is Network Watcher?**

**Answer:**
Azure tool for **network troubleshooting & monitoring** (flow logs, packet capture).

---

## **1Ô∏è‚É£8Ô∏è‚É£ What ports are commonly opened for web apps?**

**Answer:**

* HTTP ‚Üí 80
* HTTPS ‚Üí 443
  (443 preferred for security)

---

## **1Ô∏è‚É£9Ô∏è‚É£ How does Azure protect against lateral movement?**

**Answer:**

* Subnet isolation
* NSGs
* Azure Firewall
* Zero Trust model

---

## **2Ô∏è‚É£0Ô∏è‚É£ Real-World Scenario Question**

**Q:** Public users should access app, DB must not be public.
**Answer:**

* App behind Application Gateway
* DB via Private Endpoint
* NSG restrict DB access

---

## **üî• One-Line Interview Punches**

* NSG = basic firewall
* Firewall = centralized security
* Private Endpoint = best security
* DDoS ‚â† Firewall
* DNAT = inbound, SNAT = outbound

---

============================


![Image](https://learn.microsoft.com/en-us/azure/architecture/networking/architecture/_images/hub-spoke.png)

![Image](https://journeyofthegeek.com/wp-content/uploads/2022/12/appgw-privatelink-lab.png)

![Image](https://learn.microsoft.com/en-us/azure/architecture/reference-architectures/dmz/images/dmz-private.png)

---

# üîê Scenario-Based Network Security Q&A (Detailed & Rearranged)

---

## **Scenario 1: Public users should access the application, but the database must NOT be public**

### **Problem**

* Users access the application from the internet
* Database should not be exposed to public IP
* Secure communication between app and DB required

### **Solution Architecture**

1. Place the application behind **Application Gateway**
2. Enable **WAF** to protect against web attacks
3. Deploy database with **Private Endpoint**
4. Use **Private DNS** for name resolution
5. Apply **NSG rules** to allow DB access only from app subnet

### **Why this works**

* Internet traffic stops at Application Gateway
* Database gets a private IP inside VNet
* No public exposure of DB
* Strong isolation between layers

---

## **Scenario 2: VM should not have a public IP, but admins need secure access**

### **Problem**

* Public IP on VM is a security risk
* Admin access (RDP/SSH) still required

### **Solution**

1. Remove public IP from VM
2. Deploy **Azure Bastion** in the VNet
3. Access VM using Azure Portal over **HTTPS (443)**
4. Restrict NSG rules (no inbound RDP/SSH from internet)

### **Why this works**

* VM is never exposed to internet
* Bastion provides browser-based secure access
* No port 22 or 3389 open publicly

---

## **Scenario 3: Secure access to Azure Storage without using the internet**

### **Problem**

* Storage account should not be accessible via public endpoint
* Traffic must stay inside Azure network

### **Solution**

1. Disable public network access on Storage Account
2. Create **Private Endpoint** for Storage
3. Integrate with **Private DNS Zone**
4. Allow access only from required subnets

### **Why this works**

* Storage gets private IP
* Traffic flows only inside Azure backbone
* Prevents data exfiltration

---

## **Scenario 4: Protect a web application from SQL Injection and XSS attacks**

### **Problem**

* Application is publicly accessible
* Vulnerable to OWASP Top 10 attacks

### **Solution**

1. Use **Application Gateway with WAF**
2. Enable OWASP managed rules
3. Force HTTPS (SSL termination)
4. Log and monitor malicious requests

### **Why this works**

* WAF inspects HTTP/HTTPS traffic
* Blocks SQL injection, XSS, command injection
* Application code changes not required

---

## **Scenario 5: Secure connection between On-Premises and Azure**

### **Problem**

* Company wants private communication between on-prem data center and Azure

### **Solution Options**

**Option 1: VPN Gateway**

* Uses IPSec over public internet
* Faster to set up
* Lower cost

**Option 2: ExpressRoute**

* Dedicated private connection
* High bandwidth, low latency
* No internet usage

### **When to use what**

* VPN ‚Üí Small / medium workloads
* ExpressRoute ‚Üí Enterprise / production critical systems

---

## **Scenario 6: Multiple VNets need to communicate securely**

### **Problem**

* Separate VNets for prod, dev, and shared services
* Need private communication

### **Solution**

1. Use **VNet Peering**
2. Configure **Hub-and-Spoke architecture**
3. Apply NSGs for traffic control
4. Use Azure Firewall in hub

### **Why this works**

* Traffic stays on Azure backbone
* No gateways required
* Low latency & high performance

---

## **Scenario 7: Outbound internet access required, inbound must be blocked**

### **Problem**

* VMs need internet for updates
* Inbound access should be blocked

### **Solution**

1. No public IP on VMs
2. Use **SNAT** via Azure Firewall or Load Balancer
3. NSG denies all inbound traffic
4. Allow outbound via firewall rules

### **Why this works**

* Outbound allowed securely
* No attack surface from inbound traffic

---

## **Scenario 8: Expose an internal application to the internet safely**

### **Problem**

* Internal app needs to be accessed publicly
* Should not expose entire network

### **Solution**

1. Configure **DNAT** on Azure Firewall or Load Balancer
2. Map public IP + port ‚Üí private IP + port
3. Restrict source IPs
4. Enforce HTTPS

### **Why this works**

* Controlled inbound access
* No direct exposure of internal subnet

---

## **Scenario 9: Protect application from DDoS attacks**

### **Problem**

* Application is internet-facing
* Risk of traffic flooding attacks

### **Solution**

1. Enable **Azure DDoS Standard** at VNet level
2. Place app behind Load Balancer / App Gateway
3. Enable alerts and monitoring

### **Why this works**

* Automatic traffic scrubbing
* Attack mitigation without downtime
* Cost protection during attacks

---

## **Scenario 10: AKS cluster must be private**

### **Problem**

* Kubernetes API server exposed publicly
* Security compliance requires private access

### **Solution**

1. Create **Private AKS cluster**
2. API server accessed via Private Endpoint
3. Ingress via Application Gateway
4. Use NSGs + Firewall for traffic control

### **Why this works**

* Kubernetes control plane not exposed
* Strong isolation and compliance

---

## **Scenario 11: Prevent lateral movement inside the network**

### **Problem**

* If one VM is compromised, others are at risk

### **Solution**

1. Split workloads into multiple subnets
2. Apply strict NSG rules between subnets
3. Use Azure Firewall for inspection
4. Follow Zero Trust model

### **Why this works**

* Limits blast radius
* Prevents east-west attacks

---

## **Scenario 12: Troubleshoot blocked or failing network traffic**

### **Problem**

* Application not reachable
* Unsure which rule is blocking traffic

### **Solution**

Use **Network Watcher**:

* IP Flow Verify
* NSG Flow Logs
* Connection Troubleshoot
* Packet Capture

### **Why this works**

* Pinpoints exact rule causing issue
* Faster root-cause analysis

---

## **Scenario 13: Secure CI/CD agents accessing Azure resources**

### **Problem**

* Build agents need Azure access
* Credentials should not be hard-coded

### **Solution**

1. Use **Self-hosted agents in VNet**
2. Enable **Managed Identity**
3. Restrict NSG & Firewall rules
4. Least privilege RBAC

### **Why this works**

* No secrets in pipelines
* Secure and auditable access

---

## **Interview Closing Lines (Very Important)**

* NSG = basic filtering
* Firewall = centralized control
* WAF = application-level protection
* Private Endpoint = highest security
* DNAT = inbound | SNAT = outbound

---



