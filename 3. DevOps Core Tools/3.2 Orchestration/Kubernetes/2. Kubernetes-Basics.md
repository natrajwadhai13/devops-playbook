---
title: "‚Ä¢ Kubernetes-Basics"
parent: "‚Ä¢ Kubernetes"
grand_parent: "‚Ä¢ 3.2 Orchestration"
great_grand_parent: 3. DevOps Core Tools
nav_order: 1
has_children: true
---

# üìò Comprehensive Kubernetes (K8s) Mastery

### Concepts, Architecture, Setup, and Advanced Practices

---

## üß≠ Table of Contents

* [Introduction: Understanding Kubernetes and Its Significance](#introduction-understanding-kubernetes-and-its-significance)
* [Section 1: Kubernetes Architecture and Core Components](#section-1-kubernetes-architecture-and-core-components)
* [Section 2: From Monolith to Microservices ‚Äì Why Kubernetes?](#section-2-from-monolith-to-microservices--why-kubernetes)
* [Section 3: Kubernetes Setup ‚Äì Local and Cloud Deployments](#section-3-kubernetes-setup--local-and-cloud-deployments)
* [Section 4: Kubernetes Resources](#section-4-kubernetes-resources--pods-deployments-statefulsets-daemonsets-jobs-and-cronjobs)
* [Section 5: Namespaces, Labels, Selectors, and Services](#section-5-namespaces-labels-selectors-and-services)
* [Section 6: Networking and Ingress](#section-6-networking-and-ingress)
* [Section 7: Persistent Storage](#section-7-persistent-storage--volumes-persistent-volumes-pvs-and-persistent-volume-claims-pvcs)
* [Section 8: Scaling and Scheduling](#section-8-scaling-and-scheduling--resource-requests-limits-probes-affinity-and-auto-scaling)
* [Section 9: Security and Access Control ‚Äì RBAC](#section-9-security-and-access-control--rbac-role-based-access-control)
* [Section 10: Monitoring and Logging](#section-10-monitoring-and-logging--integrating-prometheus-and-grafana)
* [Section 11: Helm ‚Äì Kubernetes Package Manager](#section-11-helm--kubernetes-package-manager-for-simplified-deployment)
* [Section 12: Containers Inside Pods](#section-12-containers-inside-pods--init-containers-and-sidecar-containers)
* [Section 13: Service Mesh and Observability with Istio](#section-13-service-mesh-and-observability-with-istio-envoy)
* [Section 14: Real-World Projects and Use Cases](#section-14-real-world-projects-and-use-cases)
* [Conclusion](#conclusion-mastery-and-practical-implications)
* [Summary Notes](#summary-of-advanced-bullet-point-notes)

---

## üß© Introduction: Understanding Kubernetes and Its Significance

Kubernetes (**K8s**) is a powerful **container orchestration tool** that automates the deployment, scaling, and management of containerized applications.
Originally developed at **Google** in 2014 as a project called **Borg**, it was open-sourced and donated to the **Cloud Native Computing Foundation (CNCF)**.

Kubernetes enables organizations to shift from **monolithic** applications to **microservices architecture**, where independent services are deployed and scaled efficiently.

**Key concepts:**
`Pods`, `Namespaces`, `Deployments`, `Services`, `StatefulSets`, and more.
These are essential for DevOps engineers and cloud professionals.

---

## ‚öôÔ∏è Section 1: Kubernetes Architecture and Core Components

Kubernetes clusters have two node types:

### üè¢ Master Node (Control Plane)

Responsible for managing the cluster and includes:

* **API Server** ‚Äì Entry point for all commands.
* **Scheduler** ‚Äì Assigns pods to nodes.
* **Controller Manager** ‚Äì Ensures the cluster state matches the desired state.
* **etcd** ‚Äì Distributed key-value store holding cluster data.

### üß± Worker Nodes

Where workloads actually run. Each includes:

* **Kubelet** ‚Äì Communicates with the API server and manages pods.
* **Container Runtime** ‚Äì e.g., `Docker`, `containerd`.
* **Kube-proxy** ‚Äì Handles networking and load balancing.

> **Pod:** The smallest deployable unit, usually wrapping one or more containers.

---

## üß© Section 2: From Monolith to Microservices ‚Äì Why Kubernetes?

| Monolithic Apps        | Microservices                       |
| ---------------------- | ----------------------------------- |
| Single large codebase  | Independent, modular components     |
| Hard to scale          | Each service can scale individually |
| Tight coupling         | Loosely coupled                     |
| Full redeploy required | Independent deployment possible     |

**Kubernetes Benefits:**

* Auto-healing and auto-scaling
* Rolling updates
* Service discovery & load balancing

---

## üß± Section 3: Kubernetes Setup ‚Äì Local and Cloud Deployments

You can create clusters using multiple tools:

* **Kind (Kubernetes in Docker)** ‚Äì For local testing.
* **Minikube** ‚Äì Runs a single-node cluster locally.
* **Kubeadm** ‚Äì Used to build production-ready clusters manually.
* **Managed Services** ‚Äì **EKS (AWS)**, **AKS (Azure)**, **GKE (Google)**.

**Example:** Kind cluster with 1 master & 3 workers

```yaml
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
nodes:
  - role: control-plane
  - role: worker
  - role: worker
  - role: worker
```

---

## üß© Section 4: Kubernetes Resources ‚Äì Pods, Deployments, StatefulSets, DaemonSets, Jobs, and CronJobs

* **Pods:** Smallest deployable unit.
* **Deployments:** Manage stateless apps with rolling updates.
* **ReplicaSets:** Maintain desired pod count.
* **StatefulSets:** Handle stateful apps (e.g., DBs).
* **DaemonSets:** Run pods on all or specific nodes.
* **Jobs & CronJobs:** For batch or scheduled tasks.

> Defined via YAML manifests with `apiVersion`, `kind`, `metadata`, `spec`.

---

## üß≠ Section 5: Namespaces, Labels, Selectors, and Services

* **Namespaces:** Logical partitions for resource isolation.
* **Labels:** Key-value tags for object organization.
* **Selectors:** Query objects by labels.
* **Services:** Provide stable access to pods.

**Service Types:**

* `ClusterIP` ‚Äì Internal only
* `NodePort` ‚Äì Exposes port externally
* `LoadBalancer` ‚Äì Cloud-managed external access

---

## üåê Section 6: Networking and Ingress

* **CNI (Container Network Interface):** Connects pods across nodes.

  * Common plugin: **Calico**
* **Ingress:** Manages HTTP(S) routing from outside the cluster.
* **Ingress Controller:** (e.g., **Nginx**) handles load balancing & SSL.

---

## üíæ Section 7: Persistent Storage ‚Äì Volumes, PVs, PVCs

* **Pods** are temporary; to persist data ‚Üí use **Volumes**.
* **Persistent Volume (PV):** Actual cluster storage.
* **Persistent Volume Claim (PVC):** User request for storage.
* **StorageClass:** Defines storage type (SSD, HDD, etc).

**Example (MySQL storage mount):**

```yaml
volumeMounts:
  - name: mysql-storage
    mountPath: /var/lib/mysql
```

---

## ‚öñÔ∏è Section 8: Scaling and Scheduling ‚Äì Resource Requests, Limits, Probes, Affinity, and Auto-scaling

* **Resource Limits:** Prevent one pod from overusing CPU/memory.
* **Probes:**

  * `livenessProbe`, `readinessProbe`, `startupProbe`.
* **Affinity & Tolerations:** Control pod placement.
* **Autoscaling:**

  * **HPA (Horizontal Pod Autoscaler)** ‚Äì Scales pods.
  * **VPA (Vertical Pod Autoscaler)** ‚Äì Adjusts resources.
  * **KEDA** ‚Äì Event-driven scaling.

---

## üîê Section 9: Security and Access Control ‚Äì RBAC (Role-Based Access Control)

* **Roles & RoleBindings:** Assign permissions in namespaces.
* **ClusterRoles & ClusterRoleBindings:** Cluster-wide permissions.
* **Service Accounts:** Pod identities for authentication.

Example:

```yaml
kind: Role
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  namespace: dev
  name: pod-reader
rules:
- apiGroups: [""]
  resources: ["pods"]
  verbs: ["get", "list"]
```

---

## üìä Section 10: Monitoring and Logging ‚Äì Integrating Prometheus and Grafana

* **Prometheus:** Scrapes metrics from nodes & pods.
* **Grafana:** Visualizes metrics with dashboards.
* **Loki:** Centralized logging system.
* **Node Exporter, kube-state-metrics:** Collect metrics.

**Example Setup:**

```bash
helm install prometheus prometheus-community/prometheus
helm install grafana grafana/grafana
```

---

## ü™Ñ Section 11: Helm ‚Äì Kubernetes Package Manager for Simplified Deployment

* Helm packages manifests into **charts**.
* Allows install, upgrade, rollback, and delete operations.
* Reusable with templating via `values.yaml`.

**Commands:**

```bash
helm install myapp ./mychart
helm upgrade myapp ./mychart
helm rollback myapp 1
helm uninstall myapp
```

---

## üß∞ Section 12: Containers Inside Pods ‚Äì Init Containers and Sidecar Containers

* **Init Containers:** Run before the main app container.
* **Sidecar Containers:** Run alongside the main app container for logging, proxying, etc.

> Example: wait-for-database init container before app starts.

---

## üîÑ Section 13: Service Mesh and Observability with Istio (Envoy)

* Manages **service-to-service** communication.
* Provides **security**, **telemetry**, and **traffic management**.
* Components: **Envoy (proxy)**, **Pilot**, **Citadel**, **Galley**.
* Features:

  * mTLS
  * Traffic splitting
  * Fault injection
  * Tracing (with **Jaeger**)

---

## üí° Section 14: Real-World Projects and Use Cases

* **Three-tier Chat App:** React + Node.js + MongoDB.
* **Voting App:** Python + Redis.
* **Monitoring Stack:** Prometheus + Grafana + Loki.
* **CI/CD:** Jenkins + ArgoCD.
* **Managed Cluster:** AWS EKS deployment for production.

---

## üèÅ Conclusion: Mastery and Practical Implications

Kubernetes enables:

* Scalable microservices deployment
* Resilient and observable architecture
* Secure access management
* Simplified management via Helm
* Real-world readiness with Prometheus, Grafana, and Istio

Hands-on learning with **Kind**, **Minikube**, and **EKS** prepares engineers for **DevOps roles** and **cloud-native ecosystems**.

---

## üßæ Summary of Advanced Bullet-Point Notes

* **Architecture:** Master + Worker Nodes, API Server, etcd, Scheduler.
* **Setup Tools:** Kind, Minikube, Kubeadm, EKS, AKS, GKE.
* **Resources:** Pods, Deployments, StatefulSets, Jobs, CronJobs.
* **Networking:** Services, Ingress, CNI plugins.
* **Storage:** PV, PVC, StorageClass.
* **Scaling:** HPA, VPA, KEDA.
* **Security:** RBAC, Service Accounts.
* **Monitoring:** Prometheus, Grafana, Loki.
* **Packaging:** Helm charts.
* **Service Mesh:** Istio for secure, observable traffic.
* **Projects:** Chat App, Voting App, Monitoring Stack, CI/CD.

---
